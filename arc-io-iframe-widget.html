<!DOCTYPE html>
<html>
<head>
  <script async src="https://arc.io/widget.js#JnX5qiNK"></script>
</head>
<body>
  <!-- <iframe src="https://trianguloy.github.io/arc-io-iframe-widget"></iframe> -->
  <script> 
    function callback(mutationsList) {
      mutationsList.forEach(mutation => {
          if (mutation.attributeName === 'class') {
              if(mutation.target.classList.contains('is-open')){
                console.log("enter")
                parent.postMessage("enter",'*');
              }else{
                console.log("leave")
                parent.postMessage("leave",'*');
              }
          }
      })
    }

    mutationObserver = new MutationObserver(callback)
    
    document.body.onload = ()=> {
      mutationObserver.observe(
          document.getElementById('arc-widget-launcher-iframe'),
          { attributes: true }
      )
    }
  </script>
</body>
</html> 
